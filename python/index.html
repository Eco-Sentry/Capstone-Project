<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sensor Data Visualization</title>
</head>
<body>
    <h1>Sensor Readings Graph</h1>
    <iframe id="dataFrame" style="width: 100%; height: 600px; border: none;"></iframe>
    <script>
        const iframe = document.getElementById('dataFrame');
    
        function loadIframeContent() {
            fetch('http://localhost:5001/generate-heatmap', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    startTime: "2024-05-07T06:00:00.923Z",
                    endTime: "2024-05-08T06:04:20.923Z",
                    longitude: "150.89494",
                    latitude: "-34.39212",
                    range: "1000000",
                    sensorTypes: ["ba280d1f-e1ee-4cff-b695-101e3a9e211b"]
                })
            }).then(response => response.text())
            .then(html => {
                const doc = iframe.contentWindow.document;
                doc.open();
                doc.write(html);
                doc.close();
            }).catch(error => console.error('Error loading the iframe content:', error));
        }
    
        if (iframe.contentWindow) {
            loadIframeContent();
        } else {
            iframe.onload = loadIframeContent;
        }
    </script>
    
    

</body>
</html>
